<mat-toolbar color="primary">
  <span>Live News Stream</span>
</mat-toolbar>

<div class="page">

  @if (connected) {
    <mat-card class="status-card live">
      <div class="status-text">
        <mat-icon color="primary">online_prediction</mat-icon>
        <span>Live â€“ latest {{ newsItems.length }} headlines</span>
      </div>
    </mat-card>
  } @else {
    <mat-card class="status-card">
      <mat-progress-bar mode="indeterminate" color="warn"></mat-progress-bar>
      <div class="status-text">
        <mat-icon>cloud_queue</mat-icon>
        <span>Connecting to news feed...</span>
      </div>
    </mat-card>
  }

  <div class="news-column">
    @for (news of newsItems; track trackByTitle; let i = $index) {
      <mat-card class="news-card">

        <div class="news-date-bar">
          {{ news.timestamp | date:'EEE, dd.MM.y HH:mm' }}
        </div>

        <mat-card-header>
          <mat-card-title>{{ news.title }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <mat-divider></mat-divider>
          <p class="news-text">{{ news.content }}</p>
        </mat-card-content>

      </mat-card>
    }
  </div>

</div>
